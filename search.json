[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Regression without regrets",
    "section": "",
    "text": "Preface\nThe draft report is work in progress.\nThe focus of this document/website is to provide guidance on conducting initial data analysis in a reproducible manner in the context of intended regression analyses."
  },
  {
    "objectID": "IDA_framework.html",
    "href": "IDA_framework.html",
    "title": "1  IDA Framework",
    "section": "",
    "text": "The IDA framework consists of six steps Huebner, Vach, and le Cessie (2016) (figure 1).\nHere we assume that metadata (step I) exist in sufficient detail, and that data cleaning (step II) was already performed. Metadata summarize background information about the data to properly conduct IDA steps, and a data cleaning process identifies and corrects technical errors. The data screening (step III) examines data properties to inform decisions about the intended analysis. Initial data reporting (step IV) document insight of the previous steps and can be referred to when interpreting results from the regression modeling. Consequences of these analyses can be that the analysis plan needs to be refined or updated (step V). Finally, reporting of IDA results in research papers (step VI) are necessary to ensure transparency regarding key findings that influence the analysis or interpretation of results. Further details about the elements of IDA are discussed in Huebner et al. (2020).\n\n\n\nIDA framework, see Huebner, Vach, and le Cessie (2016)\n\n\nHuebner M, Vach W, le Cessie S, Schmidt C, Lusa L. Hidden Analyses: a review of reporting practice and recommendations for more transparent reporting of initial data analyses. BMC Med Res Meth 2020; 20:61. Link\n\n\n\n\nHuebner, Marianne, Werner Vach, and Saskia le Cessie. 2016. “A Systematic Approach to Initial Data Analysis Is Good Research Practice.” The Journal of Thoracic and Cardiovascular Surgery 151 (1): 25–27. https://doi.org/https://doi.org/10.1016/j.jtcvs.2015.09.085.\n\n\nHuebner, Marianne, and Werner Vach, Saskia le Cessie, Carsten Oliver Schmidt, and Lara Lusa. 2020. “Hidden Analyses: A Review of Reporting Practice and Recommendations for More Transparent Reporting of Initial Data Analyses.” BMC Medical Research Methodology 20 (1). https://doi.org/10.1186/s12874-020-00942-y."
  },
  {
    "objectID": "scope.html",
    "href": "scope.html",
    "title": "2  Scope of the regression analyses for the examples",
    "section": "",
    "text": "Regression models can be used for a wide range of purposes, for the purpose of these examples the assumptions on the regression analysis set-up in this paper are listed in Table 1. Thus, IDA tasks will be explained in a well-defined, practically relevant setting. Since a key principle is that IDA does not touch the research question no associations between dependent (outcome) and independent (non-outcome) variables are considered.\nTable 1: The scope of the regression analyses considered for IDA tasks\n\n\n\n\n\n\n\n\nAspects of the research plan\nAssumptions in this paper\nReason for the assumption\n\n\n\n\nDependent (outcome) variable\nOne dependent variable that can be continuous or binary; exclude time-to-event or longitudinal outcomes\nExplain IDA tasks in a well-defined, practically relevant setting\n\n\nRegression models\nModels with linear predictors\nExplain IDA tasks in a well-defined, practically relevant setting\n\n\nPurpose of regression model\nAdjust effect of one variable of interest for confounders; quantify the effects of explanatory variables on the outcome\nExplain IDA tasks in a well-defined, practically relevant setting\n\n\nIndependent variables\n“explanatory” or “confounder” depending on purpose of model; small to moderate number of mixed types; Not high dimensional; no repeated measurements\nTo demonstrate IDA approaches for a mix of variables likely to be encountered in practice\n\n\nStatistical analysis plan\nExists, defines the outcome variable, the type of regression model to be used, and a set of independent variables\nIDA does not touch the research question, but may lead to an update or refinement of the analysis plan\n\n\n\nReferences:\nVach W. Regression Models as a Tool in Medical Research. Chapman/Hall CRC 2012\nHarrell FE. Regression Modeling Strategies. Springer (2nd ed) 2015\nRoyston P and Sauerbrei W. Multivariable Model Building. Wiley (2008)\n[…]"
  },
  {
    "objectID": "data_screen.html#univariate-distributions",
    "href": "data_screen.html#univariate-distributions",
    "title": "3  Data screening and possible actions",
    "section": "3.1 Univariate distributions",
    "text": "What to look at\nPossible actions: Interpretation\nPossible actions: SAP\nPossible actions: Presentation\n\n\n\n\nContinuous variables\nGeneral skewness\nHelp in interpreting results\nUpdate SAP\nUpdate intended presentation of results\n\n\nContinuous variables\nGeneral skewness\nWide CI for coefficients\nUse variable as log-transformed\nUpdate intended presentation of results\n\n\nContinuous variables\nOutliers\nDisproportional impact on results\nWinsorize or transform\nModel involves winsorization\n\n\nContinuous variables\nSpike at 0\nNarrow CI at 0\nUse appropriate representation of variable in model\nUse 2 (or more) coefficients to distinguish 0 from non-0 continuous part\n\n\nCategorical variables\nFrequencies\nComparisons to default reference probably irrelevant\nChange reference category\nContrasts compare to (new) reference category\n\n\nCategorical variables\nRare categories\nWide CI for coefficients\nCollapse/exclude\nFewer categories to present\n\n\nCategorical variables\nOne very frequent category\nComparisons irrelevant?\nExclude variable\nVariable omitted"
  },
  {
    "objectID": "data_screen.html#bivariate-distributions",
    "href": "data_screen.html#bivariate-distributions",
    "title": "3  Data screening and possible actions",
    "section": "3.2 Bivariate distributions",
    "text": "What to look at\nPossible actions: Interpretation\nPossible actions: SAP\nPossible actions: Presentation\n\n\n\n\nContinuous by continuous\nOutliers (from the cloud)\nDisproportional impact on results\nWinsorize or transform\nModel involves winsorization\n\n\nContinuous by continuous\nCorrelations\nWide CI for coefficients\nWinsorize or transform\nModel involves winsorization\n\n\nContinuous by categorical\nOutliers (only visible in bivariate plot)\nWide CI for coefficients\n\n\n\n\nCategorical by categorical\nFrequent/rare combinations\nComparison to default reference irrelevant\nChange reference category\nContrasts compare to (new) reference category\n\n\nCategorical by categorical\nFrequent/rare combinations\ninteractions relevant?\nRemove interaction from model\nFewer interactions to present"
  },
  {
    "objectID": "data_screen.html#missing-values",
    "href": "data_screen.html#missing-values",
    "title": "3  Data screening and possible actions",
    "section": "3.3 Missing values",
    "text": "What to look at\nPossible actions: Interpretation\nPossible actions: SAP\nPossible actions: Presentation\n\n\n\n\nPer variable\nNumber and proportion\nWide CI for coefficients\nRemove variable if many missing values\n\n\n\nPattern\nVariables missing independently or together\n\nOmit variables together\nChanges model\n\n\nPattern\nVariables missing dependent on levels of other variables\nSystematic missingness? Model still based on representative?\nIPW needed?\nWeighted analysis\n\n\nComplete cases\nNumber and proportion\nFew cases left for main CCO analysis\nMultiple imputation (or other way of dealing with missing values)?\nResult from MI analysis? Or applicability restricted to a subpopulation?\n\n\n\nReferences\nHuebner M, le Cessie S, Schmidt CO, Vach W . A contemporary conceptual framework for initial data analysis. Observational Studies 2018; 4: 171-192. Link\nHarrell FE. Regression Modeling Strategies. Springer (2nd ed) 2015\n[…]"
  },
  {
    "objectID": "Bact_intro.html#dataset-description",
    "href": "Bact_intro.html#dataset-description",
    "title": "4  Bacteremia",
    "section": "5.1 Dataset Description",
    "text": "Ratzinger et al (2014) performed a diagnostic study in which age, sex and 49 laboratory variables can be used to diagnose bacteremia status of a blood sample using a multivariable model. Between January 2006 and December 2010, patients with the clinical suspicion to suffer from bacteraemia were included if blood culture analysis was requested by the responsible physician and blood was sampled for assessment of haematology and biochemistry. The data consists of 14,691 observations from different patients.\nOur version of this data was slightly modified compared to original version, and this modified version was cleared by the Medical University of Vienna for public use (DC 2019-0054). Variable names have been kept as they were (partly German abbreviations). A data dictionary is available in the misc folder of the project directory (‘bacteremia-DataDictionary.csv’).\nIn the original paper describing the study (Ratzinger et al, PLoS One 2014), a machine learning approach was taken to diagnose a positive status of blood culture. The true status was determined for all blood samples by blood culture analysis, which is the gold standard. Here we will make use of a multivariable logistic regression model."
  },
  {
    "objectID": "Bact_intro.html#bacteremia-dataset-contents",
    "href": "Bact_intro.html#bacteremia-dataset-contents",
    "title": "4  Bacteremia",
    "section": "5.2 Bacteremia dataset contents",
    "text": "5.2.1 Source dataset\nWe refer to the source data set as the dataset available in this repository.\nDisplay the source dataset contents. This dataset is in the data folder of the project directory.\n\nData frame:bact14691 observations and 53 variables, maximum # NAs:7114  \n \n \n \n NameStorageNAs\n IDinteger   0\n SEXinteger   0\n AGEinteger   0\n MCVdouble  42\n HGBdouble  41\n HCTdouble  42\n PLTinteger  42\n MCHdouble  42\n MCHCdouble  42\n RDWdouble  56\n MPVdouble 702\n LYMdouble 262\n MONOdouble 246\n EOSdouble 135\n BASOdouble 146\n NTinteger2467\n APTTdouble2549\n FIBinteger2567\n SODIUMinteger1282\n POTASSdouble2008\n CAdouble1276\n PHOSdouble1242\n MGdouble1869\n CREAdouble 159\n BUNdouble 172\n HSdouble3061\n GBILdouble1441\n TPdouble1583\n ALBdouble1676\n AMYinteger3913\n PAMYinteger7114\n LIPinteger3699\n CHEdouble2447\n APinteger1400\n ASATinteger1154\n ALATinteger 987\n GGTinteger1262\n LDHinteger1714\n CKinteger2080\n GLUinteger4192\n TRIGinteger5061\n CHOLinteger5045\n CRPdouble 155\n BASORdouble 732\n EOSRdouble 732\n LYMRdouble 732\n MONORdouble 732\n NEUdouble 728\n NEURdouble 732\n PDWdouble1102\n RBCdouble 461\n WBCdouble 462\n BloodCulturecharacter   0\n \n\n \n\n\n\n\n5.2.2 Updated analysis dataset\nAdditional meta-data is added to the original source data set. We write this new modified (annotated) data set back to the data folder after adding additional meta-data for all variables. The meta-data is taken from the data dictionary.\nAt the stage we could select the variables of interest to take in to the IDA phase by dropping variables we do not check in IDA.\nAs a cross check we display the contents again to ensure the additional data is added, and then write the changes to the data folder in the file “data/a_bact.rda”.\nInput object size: 5119632 bytes; 53 variables 14691 observations New object size: 5159904 bytes; 53 variables 14691 observations Input object size: 5277552 bytes; 54 variables 14691 observations New object size: 5219544 bytes; 54 variables 14691 observations ::: {.cell-output-display}\nData frame:a_bact14691 observations and 54 variables, maximum # NAs:7114  \n \n \n \n NameLabelsUnitsClassStorageNAs\n IDPatient Identification1-14691integerinteger   0\n SEXPatient sex1=male, 2=femaleintegerinteger   0\n AGEPatient Ageyearsintegerinteger   0\n MCVMean corpuscular volumepgnumericdouble  42\n HGBHaemoglobinG/Lnumericdouble  41\n HCTHaematocrit%numericdouble  42\n PLTBlood plateletsG/Lintegerinteger  42\n MCHMean corpuscular hemoglobinflnumericdouble  42\n MCHCMean corpuscular hemoglobin concentrationg/dlnumericdouble  42\n RDWRed blood cell distribution width%numericdouble  56\n MPVMean platelet volumeflnumericdouble 702\n LYMLymphocytesG/Lnumericdouble 262\n MONOMonocytesG/Lnumericdouble 246\n EOSEosinophilsG/Lnumericdouble 135\n BASOBasophilesG/Lnumericdouble 146\n NTNormotest%integerinteger2467\n APTTActivated partial thromboplastin timesecnumericdouble2549\n FIBFibrinogenmg/dlintegerinteger2567\n SODIUMSodiummmol/Lintegerinteger1282\n POTASSPotassiummmol/Lnumericdouble2008\n CACalciummmol/Lnumericdouble1276\n PHOSPhosphatemmol/Lnumericdouble1242\n MGMagnesiummmol/Lnumericdouble1869\n CREACreatininemg/dlnumericdouble 159\n BUNBlood urea nitrogenmg/dlnumericdouble 172\n HSUric acidmg/dlnumericdouble3061\n GBILBilirubinmg/dlnumericdouble1441\n TPTotal proteinG/Lnumericdouble1583\n ALBAlbuminG/Lnumericdouble1676\n AMYAmylaseU/Lintegerinteger3913\n PAMYPancreas amylaseU/Lintegerinteger7114\n LIPLipasesU/Lintegerinteger3699\n CHECholinesterasekU/Lnumericdouble2447\n APAlkaline phosphataseU/Lintegerinteger1400\n ASATAspartate transaminaseU/Lintegerinteger1154\n ALATAlanin transaminaseU/Lintegerinteger 987\n GGTGamma-glutamyl transpeptidaseG/Lintegerinteger1262\n LDHLactate dehydrogenaseU/Lintegerinteger1714\n CKCreatinine kinasesU/Lintegerinteger2080\n GLUGlucosesmg/dlintegerinteger4192\n TRIGTriclyceridemg/dlintegerinteger5061\n CHOLCholesterolmg/dlintegerinteger5045\n CRPC-reactive proteinmg/dlnumericdouble 155\n BASORBasophile ratio%numericdouble 732\n EOSREosinophil ratio%numericdouble 732\n LYMRLymphocyte ratio% (mg/dl)numericdouble 732\n MONORMonocyte ratio%numericdouble 732\n NEUNeutrophilesG/Lnumericdouble 728\n NEURNeutrophile ratio%numericdouble 732\n PDWPlatelet distribution width%numericdouble1102\n RBCRed blood countT/Lnumericdouble 461\n WBCWhite blood countG/Lnumericdouble 462\n BloodCultureBlood culture result for bacteremiano, yescharactercharacter   0\n BCbacteremia0/1integerinteger   0\n \n\n \n\n:::"
  },
  {
    "objectID": "Bact_intro.html#section-session-info",
    "href": "Bact_intro.html#section-session-info",
    "title": "4  Bacteremia",
    "section": "5.3 Section session info",
    "text": "R version 4.1.2 (2021-11-01)\nPlatform: x86_64-apple-darwin17.0 (64-bit)\nRunning under: macOS Big Sur 10.16\n\nMatrix products: default\nBLAS:   /Library/Frameworks/R.framework/Versions/4.1/Resources/lib/libRblas.0.dylib\nLAPACK: /Library/Frameworks/R.framework/Versions/4.1/Resources/lib/libRlapack.dylib\n\nlocale:\n[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8\n\nattached base packages:\n[1] stats     graphics  grDevices datasets  utils     methods   base     \n\nother attached packages:\n [1] Hmisc_4.6-0     Formula_1.2-4   survival_3.2-13 lattice_0.20-45\n [5] forcats_0.5.1   stringr_1.4.0   dplyr_1.0.9     purrr_0.3.4    \n [9] readr_2.1.1     tidyr_1.2.0     tibble_3.1.7    ggplot2_3.3.6  \n[13] tidyverse_1.3.1 here_1.0.1     \n\nloaded via a namespace (and not attached):\n [1] httr_1.4.2          jsonlite_1.7.2      splines_4.1.2      \n [4] modelr_0.1.8        assertthat_0.2.1    latticeExtra_0.6-29\n [7] renv_0.15.5         cellranger_1.1.0    pillar_1.7.0       \n[10] backports_1.4.1     glue_1.6.2          digest_0.6.29      \n[13] checkmate_2.1.0     RColorBrewer_1.1-3  rvest_1.0.2        \n[16] colorspace_2.0-3    htmltools_0.5.2     Matrix_1.3-4       \n[19] pkgconfig_2.0.3     broom_0.8.0         haven_2.4.3        \n[22] scales_1.2.0        jpeg_0.1-9          tzdb_0.2.0         \n[25] htmlTable_2.3.0     generics_0.1.2      ellipsis_0.3.2     \n[28] withr_2.5.0         nnet_7.3-16         cli_3.3.0          \n[31] magrittr_2.0.3      crayon_1.5.1        readxl_1.3.1       \n[34] evaluate_0.14       fs_1.5.2            fansi_1.0.3        \n[37] xml2_1.3.3          foreign_0.8-81      data.table_1.14.2  \n[40] tools_4.1.2         hms_1.1.1           lifecycle_1.0.1    \n[43] munsell_0.5.0       reprex_2.0.1        cluster_2.1.2      \n[46] compiler_4.1.2      rlang_1.0.3         grid_4.1.2         \n[49] rstudioapi_0.13     htmlwidgets_1.5.4   base64enc_0.1-3    \n[52] rmarkdown_2.11      gtable_0.3.0        DBI_1.1.2          \n[55] R6_2.5.1            gridExtra_2.3       lubridate_1.8.0    \n[58] knitr_1.37          fastmap_1.1.0       utf8_1.2.2         \n[61] rprojroot_2.0.2     stringi_1.7.6       Rcpp_1.0.8.3       \n[64] vctrs_0.4.1         rpart_4.1-15        png_0.1-7          \n[67] dbplyr_2.1.1        tidyselect_1.1.2    xfun_0.31"
  },
  {
    "objectID": "Bact_SAP.html#preparations",
    "href": "Bact_SAP.html#preparations",
    "title": "5  IDA plan",
    "section": "5.1 Preparations",
    "text": "1. Statistical analysis plan: as assumed above, the analysis strategy to answer the main research question has been prespecified. It comprises of the set of independent variables to be considered in a model, the outcome variable, and the analytical strategy to build the regression model.\nThe aim of the analysis is to derive a parsimonious model to predict bacteremia status from age, gender, and 49 continuous laboratory variables. Logistic regression with consideration of nonlinear effects by fractional polynomials will be considered. The multivariable fractional polynomial algorithm will be employed considering first-order fractional polynomials for the continuous covariates. In a first step, optimal transformations for each covariate will be determined without variable selection. In the second step, we will apply the garrote to assign nonnegative shrinkage factors to the coefficients. The shrinkage factors will be determined by optimizing AIC in the second step. It is considered to impute missing values using multiple imputation with chained equations, and to generate a stacked data set for analysis. The number of imputations will be determined after initial data analysis. To assess internal performance of the diagnostic model, we will consider 10-fold cross-validation (CV), repeating the above-described model building steps. The folds will be built by dividing the patient cohort into 10 approximately equally-sized groups. All imputed observations of a patient will be assigned to the same fold. From the 10-fold CV, the area under the ROC, the calibration in the large and the calibration slope will be estimated and reported. The final regression model will be derived from analysing the full cohort with that strategy.\n2. Data dictionary and metadata: a detailed data dictionary should be available which informs about the meaning of each variable in context of the research question, the units of measurement, the possible levels in case of categorical variables, or admissible values. More generally, metadata, also refer to information about the research study protocol and data collection processes.\nA data dictionary is available.\n3. Domain expertise and pivotal covariates (‘very important predictors’, VIPs)\n3.1. In particular for analyses with a moderate to high number of covariates, domain expertise should guide assumptions which covariates are considered to be 'strongly related' with the outcome and hence are ‘very important predictors’ in the regression model, and which variables have a weak or unknown association with the outcome (cf. Heinze et al, Biometrical Journal 2018). Depending on context and assumptions on strength of association with the outcome variable, two to three pivotal covariates should be defined (e.g., age and sex).\nPivotal covariates:\nRatzinger et al (2014) cite 5 papers who have proposed a prediction model for bacteremia before. From these papers, the following knowledge could be extracted:\nCovariates with assumed strong association with bacteremia:\n\nJaimes (2004):\n\nage\nheart rate\ntemperature\nleukocyte count\nuse of central venous catheter\nlength of hospitalization\n\nBates 1997\n\nSuspected or documented focal infection at onset\nantibiotics before onset\nany liver disease\nHickman catheter present\naltered mental status within 24h\nfocal abdominal signs withing 24h\n\nLee (2012)\n\nage\npresence of rigor\npresence of chills\nbody temperature\nblood urea nitrogen\nblood urea nitrogen/creatinine ratio\nthrombocytopenia\n\nTudela (2010)\n\nCharlson index\nPCT\n\nKuppermann (1998)\n\nage\ntemperature\nclinical score\nWBC count\nabsolute neutrophil count\nabsolute band count\n\n\nIt has to be admitted that some of these selections are based on inappropriate methods, e.g., use of univariate logistic regression screening, or were derived for special settings or cohorts, e.g. use in emergency room, or use in children.\nOut of the set of variables used in the models of the cited 5 papers, the following six variables also available in our data set and are considered as very important predictors (VIPs):\n\nage (mentioned in 3 papers)\nleukocytes (WBC) (2)\nblood urea neutrogen (BUN) (1)\ncreatinine (KREA) (1)\nthrombocytes (PLT) (1)\nneutrophiles (NEU) (1)\n\nBased on this review, we consider age and leukocytes (WBC) as pivotal covariates for the research question.\n3.2. Domain expertise may also be useful to specify in advance which variables are expected to correlate with each other. This background knowledge could be summarized in a directed or undirected acyclic graph connecting the covariates with each other as also suggested by Heinze et al, 2018.\nImportant variable groups for modeling may be from the group of leukocytes, kidney function related parameters and parameters indicating a reaction to an acute phase.\nLeukocytes\nThe following systematic dependencies between variables exist:\n\nWBC \\(\\approx\\) BASO + EOS + NEU + LYM + MONO\n\nIn some patients, this relation may only approximately apply because they are in an acute infection phase.\nMoreover, the following variables are percentages and hence sum up to 100:\n\nBASOR = BASO / (BASO + EOS + NEU + LYM + MONO) * 100\nEOSR = EOS / (BASO + EOS + NEU + LYM + MONO) * 100\nNEUR = NEU / (BASO + EOS + NEU + LYM + MONO) * 100\n\nMONOR = MONO / (BASO + EOS + NEU + LYM + MONO) * 100\nLYMR = LYM / (BASO + EOS + NEU + LYM + MONO) * 100\nBASOR + EOSR + NEU + MONOR + LYMR = 100\n\nTherefore, at least one of these five variables is redundant.\nAcute phase reaction\nAn acute phase reaction may be indicated by FIB, CRP, and the liver parameters ASAT, ALAT and GGT; hence some correlation between these variables is expected.\nKidney function indicators\nPotassium level (K), blood urea nitrogen (BUN) and serum creatinine (Scr, KREA) are variables that are related to kidney function. Kidney function is usually expressed as estimated glomerular filtration rate (eGFR). Using the CKD-EPI-formula, eGFR can be computed as follows, with sex-specific constants \\(\\kappa\\) (kappa) and \\(\\alpha\\) (alpha):\n\\(eGFR = 141 \\times min(Scr/\\kappa, 1)^\\alpha \\times max(Scr/\\kappa, 1)^{-1.209} \\times 0.993^{age}\\)\nwhere for males \\(\\kappa = 0.9, \\alpha = -0.411\\), and for females \\(\\kappa = 0.7, \\alpha = -0.329\\).\n\n\nShow the code\nkappa <- rep(0.7, nrow(a_bact))\nkappa[a_bact$SEX==1] <- 0.9\nalpha <- rep(-0.329, nrow(a_bact))\nalpha[a_bact$SEX==1] <- -0.411\n\na_bact$eGFR <- 141 * apply(cbind(a_bact$CREA/kappa, 1),1,min)**alpha * apply(cbind(a_bact$CREA/kappa, 1),1,max)**(-1.209) * 0.993**a_bact$AGE * 1.018**(a_bact$SEX==2)\n\na_bact$BUN_CREA <- a_bact$BUN / a_bact$CREA\n\nb_bact <- Hmisc::upData(a_bact ,\n               labels = c(eGFR = 'estimated glomerular filtration rate', \n                          BUN_CREA = 'BUN/Scr ratio'),\n               units = c(eGFR = 'mL/min/1.73 m^2',\n                         BUN_CREA = 'unitless'))\n\n\nInput object size:   5456368 bytes;  56 variables    14691 observations\nNew object size:    5456400 bytes;  56 variables    14691 observations\n\n\nSome correlation between these kidney function indicators (eGFR, potassium, BUN) can be expected. eGFR is a widely accepted and interpretable summary of kidney function. BUN should be in the range 6-20 (8-23 for adults older than 60 years). An ideal ratio of BUN to Scr is between 10 and 20. Ratios higher than 20 may be associated with high protein diet but also with impaired eGFR (lower than 60).\nWe define groups of variables: demographical, structural, key predictors, leukocyte-related, leukocyte-ratio-related, kidney-related, acute-phase related:\n\n\nShow the code\ndemog_vars <-c(\"AGE\", \"SEX\")\nstructural_vars <- c(\"WBC\", \"AGE\", \"SEX\")\nkey_predictors <- c(\"WBC\", \"AGE\", \"BUN\",\"CREA\",\"NEU\",\"PLT\")\nleuko_related_vars <-c(\"WBC\", \"NEU\", \"EOS\", \"BASO\", \"LYM\", \"MONO\")\nleuko_ratio_vars <- c(\"NEUR\", \"EOSR\", \"BASOR\", \"LYMR\", \"MONOR\")\nkidney_related_vars <- c(\"BUN\", \"POTASS\", \"CREA\", \"eGFR\", \"BUN_CREA\")\nacute_related_vars <- c(\"FIB\", \"CRP\", \"ASAT\", \"ALAT\", \"GGT\")\noutcome_vars <-c(\"BloodCulture\", \"BC\")\nremaining_vars <- names(a_bact)[is.na(match(names(a_bact),c(\"ID\", demog_vars, structural_vars, key_predictors,leuko_related_vars,leuko_ratio_vars, kidney_related_vars,acute_related_vars, outcome_vars)))]\n\nbact_variables <- list(demog_vars=demog_vars, structural_vars=structural_vars, key_predictors=key_predictors, leuko_related_vars=leuko_related_vars, leuko_ratio_vars=leuko_ratio_vars, kidney_related_vars=kidney_related_vars, acute_related_vars=acute_related_vars,\n                       remaining_vars=remaining_vars, outcome_vars=outcome_vars)\n\n\n3.3. Missing value mechanisms: if not already specified in meta data, domain experts should also be consulted to explain possible reasons for the occurrence of missing values for each variable, which may be categorized as systematic or unsystematic.\nA certain proportion of missing values is expected because of the lab test request which is often specific to the underlying condition. No specific expectations can be made."
  },
  {
    "objectID": "Bact_SAP.html#ida-domains",
    "href": "Bact_SAP.html#ida-domains",
    "title": "5  IDA plan",
    "section": "5.2 IDA domains",
    "text": "5.2.1 IDA domain: missing values\n1. Number and proportion of missing values for each independent variable, for the dependent variable and for the analysis as a whole.\nNumber and proportion of missing values will be computed for age, sex, the 49 laboratory variables, BloodCulture, as well as for the analysis as a whole.\n2. Patterns of missing values across all independent variables, either as tables or appropriately visualized.\nWe will create missing value indicators for each covariate and will then summarize patterns by means of a heat map and a dendogram.\n\n\n5.2.2 IDA domain: univariate distributions\n3. For categorical variables (including the dependent variable): frequency and proportion for each category.\nSex and BloodCulture will be described by frequencies and proportions.\n4. For continuous variables (including the dependent variable): high-resolution histogram, summary of main percentiles (1st, 10th, 25th, 50th, 75th, 90th, 99th) and interquartile range, 5 highest and 5 lowest values, first four moments (mean, variance, skewness, curtosis), standard deviation, number of distinct values.\nSummaries for all 50 continuous variables (age and 49 laboratory variables) will be created to depict their marginal distributions by means of high-resolution histograms. Furthermore, each continuous variable will be described by 1st, 10th, 25th, 50th, 75th, 90th, 99th percentiles, interquartile range, the 5 highest and 5 lowest values, the first four moments (mean, variance, skewness, curtosis), standard deviation, and the number of distinct values.\nThe graphical summary for each variable will serve to suggest transformations for each variable:\n\nno transformation (in case of approximate symmetry);\n\\(\\log_{10}(x+c)\\) or \\(\\log_2(x+c)\\) transformation (in case of skewness), determination of the ‘safety’ constant \\(c\\) as the value that optimizes correlation with standard normal scores.\n\nThe distributions of transformed variables will be evaluated in the same way as the original variables as described above.\n\n\n5.2.3 IDA domain: multivariate system of variables\n5. Matrix/heatmap of Pearson correlation coefficients between all independent variables.\nUsing the suggested transformations for each variable, Pearson correlation coefficients will be computed between all independent variables. The correlation coefficients will be depicted by means of a (quadratic) heat map. Moreover, a network graph between all independent variables will be constructed, which will be thresholded at an absolute correlation coefficient of 0.3.\nSpearman correlation coefficients will be computed as well, and the 10 pairs of covariates with the largest absolute difference between Pearson and Spearman correlation coefficients will be flagged. These pairs will be graphically investigated by constructing separate scatterplots.\n6. Appropriate visual presentation of the association of each covariate with the two pivotal covariates.\nAlso for this analysis, transformations of covariates will be used as identified in step 4.\nFirst, the distribution of age will be depicted as histogram stratified for sex.\nSecond, a scatterplot of leukocytes by age will be constructed, using different colours for the two sexes.\nThird, age will be categorized into three groups: \\(\\geq\\) 65 years, 50-65 years, \\(<\\) 50 years. Should this lead to a very imbalanced distribution of patients (the largest group containing more than four times as many patients as the smallest group), groups will be defined based on 25th and 75th percentiles. Each lab variable (or its transformation) will then be depicted in a scatterplot with leukocytes (or its transformation) in each of the three age groups, marking the dots with two different colours representing sex.\nFourth, a heat map of the raw data (or transformations) will be constructed.\nFifth, a redundancy analysis will be conducted for each variable. This analysis identifies predictors that can be almost perfectly predicted by flexible parametric additive models performed on the companion covariates. As this analysis can only be conducted with complete data for all variables, it will be done\n\nbased on a flexible parametric additive model only involving the 5 above-mentioned pivotal covariates (complete cases)\nfor the complete-cases set using the rms::redun function\nfor each of 5 randomly selected imputed data sets (after multiple imputation has been conducted) using rms::redun\n\n7. If interactions between covariates were prespecified to be included in the regression model, special attention should be given to evaluate the bivariate distribution of the interacting covariates. Appropriate graphical displays (see 6) should be used to visualise these distributions.\nNo interactions are assumed to be considered."
  },
  {
    "objectID": "Bact_SAP.html#sources",
    "href": "Bact_SAP.html#sources",
    "title": "5  IDA plan",
    "section": "5.3 Sources",
    "text": "Data is available in this repository (subfolder data).\nTo download the data set, click the link to data set\n\n5.3.1 Data dictionary\nThe data dictionary can also be found [in this repository] (https://github.com/bailliem/ida-regression-private/tree/master/misc/bacteremia-DataDictionary.csv)"
  },
  {
    "objectID": "Bact_SAP.html#references",
    "href": "Bact_SAP.html#references",
    "title": "5  IDA plan",
    "section": "5.4 References",
    "text": "Ratzinger, F., Dedeyan, M., Rammerstorfer, M., Perkmann, T., Burgmann, H., Makristathis, A., Dorffner, G., Lötsch, F., Blacky, A., Ramharter, M., 2014. A Risk Prediction Model for Screening Bacteremic Patients: A Cross Sectional Study. PLOS ONE 9, e106765. doi:10.1371/journal.pone.0106765\n\n\nShow the code\nsave(list=c(\"b_bact\", \"bact_variables\", \"demog_vars\", \"structural_vars\",\"key_predictors\",\"leuko_related_vars\",\"leuko_ratio_vars\",\"kidney_related_vars\", \"acute_related_vars\",\"remaining_vars\"), file = here::here(\"data\", \"bact_env_b.rda\"))"
  },
  {
    "objectID": "Bact_missing.html#per-variable-missingness",
    "href": "Bact_missing.html#per-variable-missingness",
    "title": "6  Missing data",
    "section": "6.1 Per variable missingness",
    "text": "Number and percentage of missing.\n\n\n\n\n\n  \n  \n    \n      Variable\n      Missing (count)\n      Missing (%)\n    \n  \n  \n    PAMY\n7114\n48.42\n    TRIG\n5061\n34.45\n    CHOL\n5045\n34.34\n    GLU\n4192\n28.53\n    AMY\n3913\n26.64\n    LIP\n3699\n25.18\n    HS\n3061\n20.84\n    FIB\n2567\n17.47\n    APTT\n2549\n17.35\n    NT\n2467\n16.79\n    CHE\n2447\n16.66\n    CK\n2080\n14.16\n    POTASS\n2008\n13.67\n    MG\n1869\n12.72\n    LDH\n1714\n11.67\n    ALB\n1676\n11.41\n    TP\n1583\n10.78\n    GBIL\n1441\n9.81\n    AP\n1400\n9.53\n    SODIUM\n1282\n8.73\n    CA\n1276\n8.69\n    GGT\n1262\n8.59\n    PHOS\n1242\n8.45\n    ASAT\n1154\n7.86\n    PDW\n1102\n7.50\n    ALAT\n987\n6.72\n    BASOR\n732\n4.98\n    EOSR\n732\n4.98\n    LYMR\n732\n4.98\n    MONOR\n732\n4.98\n    NEUR\n732\n4.98\n    NEU\n728\n4.96\n    MPV\n702\n4.78\n    WBC\n462\n3.14\n    RBC\n461\n3.14\n    LYM\n262\n1.78\n    MONO\n246\n1.67\n    BUN_CREA\n174\n1.18\n    BUN\n172\n1.17\n    CREA\n159\n1.08\n    eGFR\n159\n1.08\n    CRP\n155\n1.06\n    BASO\n146\n0.99\n    EOS\n135\n0.92\n    RDW\n56\n0.38\n    MCV\n42\n0.29\n    HCT\n42\n0.29\n    PLT\n42\n0.29\n    MCH\n42\n0.29\n    MCHC\n42\n0.29\n    HGB\n41\n0.28\n    SEX\n0\n0.00\n    AGE\n0\n0.00\n    BloodCulture\n0\n0.00\n  \n  \n  \n\n\n\n\nInvestigate for groups of variables:\n\n\n\n\n\n  \n  \n    \n      Variable\n      Missing (count)\n      Missing (%)\n    \n  \n  \n    Any_Variable_missing\n10712\n72.92\n    Any_remaining_missing\n10587\n72.06\n    Any_key_structural_leuko_kidney_acute_missing\n5306\n36.12\n    Any_Acute_missing\n3139\n21.37\n    Any_Kidney_missing\n2065\n14.06\n    Any_key_structural_missing\n898\n6.11\n    Any_Leuko_missing\n728\n4.96\n    Any_Demographics_missing\n0\n0.00\n  \n  \n  \n\n\n\n\nFrom this table we learn that as long as we model with only VIPs or with leukocyte-related variables, we can expect less than 10% missing values and this may justify a complete-case analysis. Including also kidney- and acute phase related variables will raise the proportion of missing values to about 36% which leads to a significant drop in power. A multiple imputation may then recover a lot of the information and may in particular be beneficial to keep the power of the (otherwise very complete) VIPs."
  },
  {
    "objectID": "Bact_missing.html#missingness-patterns-over-variables",
    "href": "Bact_missing.html#missingness-patterns-over-variables",
    "title": "6  Missing data",
    "section": "6.2 Missingness patterns over variables",
    "text": "First we create a dendogram that shows which variables tend to be missing together:\n\n\n\n\n\nFurthermore, with variables missing in more than 10% of the cases, we create a heatmap that simultaneously shows the clusters of patients with missing values and the variables:\n\n\n\n\n\nIn this heatmap, we see that CHOL and TRIG are always missing together (lowest hierarchy in dendogram), but there are no further such pairs among any other variables. There is also some evidence that when CHOL and TRIG are missing, also PAMY is missing, although this is not the case for a small proportion of patients. The big white space in the middle of the heatmap represents the approx. 30% of patients with no missing values in those variables."
  },
  {
    "objectID": "Bact_missing.html#section-session-info",
    "href": "Bact_missing.html#section-session-info",
    "title": "6  Missing data",
    "section": "6.3 Section session info",
    "text": "R version 4.1.2 (2021-11-01)\nPlatform: x86_64-apple-darwin17.0 (64-bit)\nRunning under: macOS Big Sur 10.16\n\nMatrix products: default\nBLAS:   /Library/Frameworks/R.framework/Versions/4.1/Resources/lib/libRblas.0.dylib\nLAPACK: /Library/Frameworks/R.framework/Versions/4.1/Resources/lib/libRlapack.dylib\n\nlocale:\n[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8\n\nattached base packages:\n[1] stats     graphics  grDevices datasets  utils     methods   base     \n\nother attached packages:\n [1] DT_0.20          kableExtra_1.3.4 gt_0.6.0         naniar_0.6.1    \n [5] Hmisc_4.6-0      Formula_1.2-4    survival_3.2-13  lattice_0.20-45 \n [9] forcats_0.5.1    stringr_1.4.0    dplyr_1.0.9      purrr_0.3.4     \n[13] readr_2.1.1      tidyr_1.2.0      tibble_3.1.7     ggplot2_3.3.6   \n[17] tidyverse_1.3.1  here_1.0.1      \n\nloaded via a namespace (and not attached):\n [1] fs_1.5.2            lubridate_1.8.0     webshot_0.5.2      \n [4] RColorBrewer_1.1-3  httr_1.4.2          rprojroot_2.0.2    \n [7] tools_4.1.2         backports_1.4.1     utf8_1.2.2         \n[10] R6_2.5.1            rpart_4.1-15        DBI_1.1.2          \n[13] colorspace_2.0-3    nnet_7.3-16         withr_2.5.0        \n[16] tidyselect_1.1.2    gridExtra_2.3       compiler_4.1.2     \n[19] cli_3.3.0           rvest_1.0.2         htmlTable_2.3.0    \n[22] xml2_1.3.3          sass_0.4.1          scales_1.2.0       \n[25] checkmate_2.1.0     commonmark_1.8.0    systemfonts_1.0.3  \n[28] digest_0.6.29       foreign_0.8-81      rmarkdown_2.11     \n[31] svglite_2.0.0       base64enc_0.1-3     jpeg_0.1-9         \n[34] pkgconfig_2.0.3     htmltools_0.5.2     dbplyr_2.1.1       \n[37] fastmap_1.1.0       htmlwidgets_1.5.4   rlang_1.0.3        \n[40] readxl_1.3.1        rstudioapi_0.13     generics_0.1.2     \n[43] jsonlite_1.7.2      magrittr_2.0.3      Matrix_1.3-4       \n[46] Rcpp_1.0.8.3        munsell_0.5.0       fansi_1.0.3        \n[49] lifecycle_1.0.1     visdat_0.5.3        stringi_1.7.6      \n[52] grid_4.1.2          crayon_1.5.1        haven_2.4.3        \n[55] splines_4.1.2       hms_1.1.1           knitr_1.37         \n[58] pillar_1.7.0        reprex_2.0.1        glue_1.6.2         \n[61] evaluate_0.14       latticeExtra_0.6-29 data.table_1.14.2  \n[64] renv_0.15.5         modelr_0.1.8        png_0.1-7          \n[67] vctrs_0.4.1         tzdb_0.2.0          cellranger_1.1.0   \n[70] gtable_0.3.0        assertthat_0.2.1    xfun_0.31          \n[73] broom_0.8.0         viridisLite_0.4.0   cluster_2.1.2      \n[76] ellipsis_0.3.2"
  },
  {
    "objectID": "references.html",
    "href": "references.html",
    "title": "References",
    "section": "",
    "text": "Huebner, Marianne, Werner Vach, and Saskia le Cessie. 2016. “A Systematic Approach to Initial Data Analysis Is Good Research Practice.” The Journal of Thoracic and Cardiovascular Surgery 151 (1): 25–27. https://doi.org/https://doi.org/10.1016/j.jtcvs.2015.09.085.\n\n\nHuebner, Marianne, and Werner Vach, Saskia le Cessie, Carsten Oliver Schmidt, and Lara Lusa. 2020. “Hidden Analyses: A Review of Reporting Practice and Recommendations for More Transparent Reporting of Initial Data Analyses.” BMC Medical Research Methodology 20 (1). https://doi.org/10.1186/s12874-020-00942-y."
  }
]