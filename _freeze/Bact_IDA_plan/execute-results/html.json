{
  "hash": "06332c1ea0c28d454d9bfbac5d719d99",
  "result": {
    "markdown": "# IDA plan {#IDA_plan}\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stderr}\n```\nhere() starts at C:/R/projects/regression-report\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n-- Attaching packages --------------------------------------- tidyverse 1.3.1 --\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nv ggplot2 3.3.5     v purrr   0.3.4\nv tibble  3.1.6     v dplyr   1.0.9\nv tidyr   1.1.4     v stringr 1.4.0\nv readr   2.1.1     v forcats 0.5.1\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'dplyr' was built under R version 4.1.3\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n-- Conflicts ------------------------------------------ tidyverse_conflicts() --\nx dplyr::filter() masks stats::filter()\nx dplyr::lag()    masks stats::lag()\n```\n:::\n:::\n\n\n\nThis document exemplifies the prespecified plan for initial data analysis (IDA plan) for the bacteremia study.\n\n## Prerequisites for the IDA plan\n\n### Analysis strategy\n\nWe assume that the aims of the study are to fit a diagnostic prediction model and to describe the functional form of each predictor. These aims are addressed by fitting a logistic regression  model with bacteremia status as the dependent variable. \n\nBased on domain expertise, the predictors are grouped by their assumed importance to predict bacteremia. Variables with known strong associations with bacteremia are age (AGE), leukocytes (WBC), blood urea neutrogen (BUN), creatinine (CREA), thrombocytes (PLT), and neutrophiles (NEU) and these predictors will be included in the model as key predictors. Predictors of medium importance are potassium (POTASS), and some acute-phase related parameters such as fibrinogen (FIB), C-reactive protein (CRP), aspartate transaminase (ASAT), alanine transaminase (ALAT), and gamma-glutamyl transpeptidase (GGT). All other predictors are of minor importance. \n\nContinuous predictors should be modelled by allowing for flexible functional forms, where for all key predictors four degrees of freedom will be spent, and for predictors of medium and minor importance, three or two degrees of freedom should be foreseen at maximum, respectively. The decision on whether to use only key predictors, or to consider predictors also from the predictor sets of medium or minor importance depends on results of data screening, but will be made before uncovering the association of predictors with the outcome variable. \n\nAn adequate strategy to cope with missing values will also be chosen after screening the data. Candidate strategies are omission of predictors with abundant missing values, complete case analysis, single value imputation or multiple imputation with chained equations. \n\n### Data dictionary\n\nThe data dictionary of the bacteremia data set consists of columns for variable names, variable labels, scale of measurement (continuous or categorical), units, plausibility limits, and remarks:\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n```\n    X VariableNr     Variable                                     Label\n1   1         36         ALAT                       Alanin transaminase\n2   2         29          ALB                                   Albumin\n3   3          3          AGE                               Patient Age\n4   4         30          AMY                                   Amylase\n5   5         34           AP                      Alkaline phosphatase\n6   6         17         APTT     Activated partial thromboplastin time\n7   7         35         ASAT                    Aspartate transaminase\n8   8         15         BASO                                Basophiles\n9   9         44        BASOR                           Basophile ratio\n10 10         53 BloodCulture       Blood culture result for bacteremia\n11 11         25          BUN                       Blood urea nitrogen\n12 12         21           CA                                   Calcium\n13 13         33          CHE                            Cholinesterase\n14 14         42         CHOL                               Cholesterol\n15 15         39           CK                        Creatinine kinases\n16 16         43          CRP                        C-reactive protein\n17 17         14          EOS                               Eosinophils\n18 18         45         EOSR                          Eosinophil ratio\n19 19         18          FIB                                Fibrinogen\n20 20         27         GBIL                                 Bilirubin\n21 21         37          GGT             Gamma-glutamyl transpeptidase\n22 22         40          GLU                                  Glucoses\n23 23          6          HCT                               Haematocrit\n24 24          5          HGB                               Haemoglobin\n25 25         26           HS                                 Uric acid\n26 26          1           ID                    Patient Identification\n27 27         20       POTASS                                 Potassium\n28 28         24         CREA                                Creatinine\n29 29         38          LDH                     Lactate dehydrogenase\n30 30         32          LIP                                   Lipases\n31 31         12          LYM                               Lymphocytes\n32 32         46         LYMR                          Lymphocyte ratio\n33 33          8          MCH               Mean corpuscular hemoglobin\n34 34          9         MCHC Mean corpuscular hemoglobin concentration\n35 35          4          MCV                   Mean corpuscular volume\n36 36         23           MG                                 Magnesium\n37 37         13         MONO                                 Monocytes\n38 38         47        MONOR                            Monocyte ratio\n39 39         11          MPV                      Mean platelet volume\n40 40         19       SODIUM                                    Sodium\n41 41         48          NEU                              Neutrophiles\n42 42         49         NEUR                         Neutrophile ratio\n43 43         16           NT                                 Normotest\n44 44         31         PAMY                          Pancreas amylase\n45 45         50          PDW               Platelet distribution width\n46 46         22         PHOS                                 Phosphate\n47 47          7          PLT                           Blood platelets\n48 48         51          RBC                           Red blood count\n49 49         10          RDW         Red blood cell distribution width\n50 50          2          SEX                               Patient sex\n51 51         28           TP                             Total protein\n52 52         41         TRIG                              Triclyceride\n53 53         52          WBC                         White blood count\n   Scale.of.measurement            Units                       Remark\n1            continuous              U/L                             \n2            continuous              G/L                             \n3            continuous            years             Alter=German age\n4            continuous              U/L                             \n5            continuous              U/L                             \n6            continuous              sec                             \n7            continuous              U/L                             \n8            continuous              G/L                             \n9            continuous                %                             \n10              nominal          no, yes                             \n11           continuous            mg/dl                             \n12           continuous           mmol/L                             \n13           continuous             kU/L                             \n14           continuous            mg/dl                             \n15           continuous              U/L                             \n16           continuous            mg/dl                             \n17           continuous              G/L                             \n18           continuous                %                             \n19           continuous            mg/dl                             \n20           continuous            mg/dl                             \n21           continuous              G/L                             \n22           continuous            mg/dl                             \n23           continuous                %                             \n24           continuous              G/L                             \n25           continuous            mg/dl   Harns?ure=German Uric acid\n26              nominal          1-14691                             \n27           continuous           mmol/L                             \n28           continuous            mg/dl                             \n29           continuous              U/L                             \n30           continuous              U/L                             \n31           continuous              G/L                             \n32           continuous        % (mg/dl)                             \n33           continuous               fl                             \n34           continuous             g/dl                             \n35           continuous               pg                             \n36           continuous           mmol/L                             \n37           continuous              G/L                             \n38           continuous                %                             \n39           continuous               fl                             \n40           continuous           mmol/L        Natrium=German sodium\n41           continuous              G/L                             \n42           continuous                %                             \n43           continuous                % Measures thromboplastin time\n44           continuous              U/L                             \n45           continuous                %                             \n46           continuous           mmol/L                             \n47           continuous              G/L                             \n48           continuous              T/L                             \n49           continuous                %                             \n50              nominal 1=male, 2=female                             \n51           continuous              G/L                             \n52           continuous            mg/dl                             \n53           continuous              G/L                             \n                                                                 From.paper\n1                            Age 15,985 58 (42?69) 65 (53?74) ,0.0001 0.611\n2                      ALAT (U/L) 14,919 26 (16?47) 30 (18?60) ,0.0001 0.55\n3        Albumin (G/L) 14,187 33.7 (28?39.3) 32 (26.925?36.7) ,0.0001 0.568\n4                  Amylase (U/L) 11,783 50 (34?77) 44 (28?70) ,0.0001 0.565\n5                   ALP (U/L) 14,479 83 (62?120) 100 (72?164) ,0.0001 0.601\n6                    aPTT (sec) 13,251 37.8 (34.2?42.8) 37.8 (34.2?43) n.s.\n7                  ASAT (U/L) 14,745 31 (22?56) 37 (24?70.25) ,0.0001 0.558\n8             Basophiles % 15,375 0.2 (0.1?0.3) 0.1 (0.1?0.2) ,0.0001 0.606\n9                      Basophiles (G/L) 15,827 0 (0?0) 0 (0?0) ,0.0001 0.47\n10                                                                         \n11      BUN (mg/dl) 15,800 16.2 (11.4?25.8) 22.5 (14.7?37.78) ,0.0001 0.633\n12   Calcium (mmol/L) 14,592 2.23 (2.09?2.35) 2.21 (2.08?2.33) 0.0001 0.533\n13         CHE (kU/L) 13,353 4.66 (3.2?6.29) 3.94 (2.66?5.48) ,0.0001 0.591\n14     Cholesterol (mg/dl) 10,565 146 (114?183) 132 (105?171) ,0.0001 0.564\n15                    CK (U/L) 13,763 82 (42?190) 67 (34?142) ,0.0001 0.557\n16    CRP (mg/dl) 15,820 8.39 (2.77?16.15) 11.68 (5.22?21.19) ,0.0001 0.596\n17         Eosinophils (G/L) 15,373 0.6 (0.1?1.8) 0.2 (0?0.8) ,0.0001 0.641\n18                  Eosinophil % 15,831 0.1 (0?0.2) 0 (0?0.1) ,0.0001 0.626\n19       Fibrinogen (mg/dl) 13,211 526 (393?667) 546 (424?701) 0.0001 0.538\n20 Bilirubin (mg/dl) 14,431 0.75 (0.52?1.19) 1.02 (0.66?1.73) ,0.0001 0.621\n21                   GGT (G/L) 14,629 48 (25?112) 73 (35?180) ,0.0001 0.599\n22          Glucoses (mg/dl) 11,350 113 (96?137) 121 (99?154) ,0.0001 0.559\n23   Haematocrit (%) 15,941 34.4 (29.8?39.2) 33.1 (28.5?37.5) ,0.0001 0.561\n24    Haemoglobin(G/L) 15,942 11.4 (9.9?13.2) 11.1 (9.5?12.6) ,0.0001 0.554\n25         Uric acid (mg/dl) 12,709 5 (3.7?6.5) 5.5 (3.9?7.6) ,0.0001 0.562\n26                                                                         \n27        Potassium (mmol/L) 13,774 3.95 (3.67?4.3) 3.97 (3.595?4.365) n.s.\n28 Creatinine (mg/dl) 15,813 0.99 (0.81?1.31) 1.2 (0.89?1.87) ,0.0001 0.611\n29              LDH (U/L) 14,150 239 (186?334) 249 (199?331.5) 0.0037 0.527\n30                          Lipases (U/L) 11,988 23 (13?40) 22 (12?38) n.s.\n31       Lymphocytes (G/L) 15,695 1.1 (0.7?1.6) 0.7 (0.4?1.1) ,0.0001 0.683\n32 Lymphocytes % (mg/dl) 15,250 11.6 (7.1?18.6) 7 (4.15?12.2) ,0.0001 0.674\n33           MCH (fl) 15,941 29.7 (28.3?30.9) 29.8 (28.5?31.2) 0.0019 0.526\n34                MCHC (g/dl) 15,941 33.5 (32.6?34.4) 33.6 (32.7?34.5) n.s.\n35           MCV (pg) 15,941 88.1 (84.6?91.9) 88.6 (84.8?92.5) 0.0044 0.524\n36       MG (mmol/L) 13,989 0.81 (0.73?0.89) 0.77 (0.68?0.86) ,0.0001 0.582\n37           Monocytes (G/L) 15,710 0.8 (0.5?1.1) 0.6 (0.3?1) ,0.0001 0.598\n38            Monocytes % 15,268 8.1 (5.8?10.7) 6.1 (3.5?8.8) ,0.0001 0.645\n39                       MPV (fl) 15,214 10.3 (9.7?11) 10.4 (9.7?11.1) n.s.\n40         Sodium (mmol/L) 14,542 138 (135?140) 136 (133?139) ,0.0001 0.602\n41   Neutrophiles (G/L) 15,181 7.3 (4.6?10.7) 8.4 (5.23?12.7) ,0.0001 0.559\n42    Neutrophiles % 15,181 77.7 (68.7?84.6) 85.8 (78.3?90.5) ,0.0001 0.696\n43                Normotest (%) 13,339 84 (67?101) 78 (60?94) ,0.0001 0.571\n44                                                               PAMY (U/L)\n45                      PDW (%) 14,776 12 (10.8?13.4) 12.1 (10.8?13.7) n.s.\n46     Phosphate(mmol/L) 14,664 1 (0.81?1.2) 0.95 (0.76?1.19) ,0.0001 0.537\n47          PLT (G/L) 15,940 206 (142?279.25) 180.5 (115?248) ,0.0001 0.575\n48               RBC (T/L) 15,478 3.9 (3.4?4.5) 3.7 (3.2?4.2) ,0.0001 0.567\n49         RDW (%) 15,924 14.4 (13.3?15.925) 14.9 (13.7?16.6) ,0.0001 0.572\n50                                                             Female: Male\n51           TP (G/L) 14,301 65.8 (56.8?73.4) 64.7 (56.4?71.5) 0.0019 0.528\n52               Triglyceride (mg/dl) 10,549 115 (83?164) 118 (85?170) n.s.\n53              WBC (G/L) 15,477 9.58 (6.64?13.46) 10.205 (6.61?14.86) n.s.\n```\n:::\n:::\n\n\n\n### Domain expertise\n\nThe demographic variables age and sex are are chosen as the structural variables in this analysis for illustration purposes, since they are commonly considered important for describing a cohort in health studies. Key predictors and predictors of medium importance are as defined above. Laboratory analyses always bear the risk of machine failures, and hence missing values are a frequent challenge. This may differ between laboratory variables, but no a priori estimate about the expected proportion of missing values can be assumed. As most predictors measure concentrations of chemical compounds or cell counts, skewed distributions are expected. Some predictors describe related types of cells or chemical compounds, and hence some correlation between them is to be expected. For example, leukocytes consist of five different types of blood cells (BASO, EOS, NEU, LYM and MONO), and the sum of the concentration of these types approximately (but not exactly) gives the leukocyte count, which is recorded in the variable WBC. Moreover, these variables are given as absolute counts and as percentages of the sum of the five variables, which creates some correlation. Some laboratory variables differ by sex and age, but the special selection of patients for this study (suspicion of bacteremia) may distort or alter the expected correlations with sex and age.\n\nFor the purpose of stratifying IDA results by age, age will be categorized into the following three groups: (16, 50], (50, 65], (65, 101]. \n\nThe predictor grouping is defined here:\n\n\n::: {.cell}\n\n:::\n\n\n## IDA plan\n\n\n### M1: Prevalence of missing values\n\nNumbers and proportions of missing values will be reported for each predictor separately (M1). Type of missingness has not been recorded.\n\n### M2: Complete cases\n\nThe number of available complete cases (outcome and predictors) will be reported when considering:\n\n1.  the outcome variable (BC)\n2.  outcome and structural variables (BC, AGE, SEX)\n3.\toutcome and key predictors only (BC, AGE, WBC, BUN, CREA, PLT, NEU)\n4.\toutcome, key predictors and predictors of medium importance (BC, AGE, WBC, BUN, CREA, PLT, NEU, POTASS, FIB, CRP, ASAT, ALAT, GGT)\n5.\toutcome and all predictors.\n\n### M3: Patterns of missing values\n\nPatterns of missing values will be investigated by:\n\n1.\tcomputing a table of complete cases (for the three predictor sets described above) for strata defined by the structural variables age and sex,\n2.\tconstructing a dendrogram of missing values to explore which predictors tend to be missing together.\n\n\n\n### U1: Univariate descriptions: categorical variables\n\nFor sex and bacteremia status, the frequency and proportion of each category will be described numerically.\n\n### U2: Univariate descriptions: continuous variables\n\nFor all continuous predictors, combo plots consisting of high-resolution histograms, boxplots and dotplots will be created. Because of the expected skew distribution, combo plots will also be created for log-transformed predictors. \n\nAs numerical summaries, minimum and maximum values, main quantiles (5th, 10th, 25th, 50th, 75th, 90th, 95th), and the first four moments (mean, standard deviation, skewness, curtosis) will be reported. The number of distinct values and the five most frequent values will be given, as well as the concentration ratio (ratio of frequency of most frequent value and mean frequency of each unique value).  \n\nGraphical and parametric multivariate analyses of the predictor space such as cluster analyses or the computation of variance inflation factors are heavily influenced by the distribution of the predictors. In order to make this set of analyses more robust to highly influential points or areas of the predictor support, some predictors may need transformation (e.g. logarithmic). We will compute the correlation of the untransformed and log-transformed predictors with normal deviates. Since some predictors may have values at or close to 0, we will consider the pseudolog transformation $f(x;\\sigma) = sinh^{-1}(x/2\\sigma)/\\log10$ (Johnson, 1949) which provides a smooth transition from linear (close to 0) to logarithmic (further away from 0). The transformation has a parameter $\\sigma$ which we will optimize separately for each predictor in order to achieve an optimal approximation to a normal distribution monitored via the correlation of normal deviates with the transformed predictor. For those predictors for which the pseudolog-transformation increases correlation with normal deviates by at least 0.2 units of the correlation coefficient, the pseudolog-transformed predictor will be used in multivariate IDA instead of the respective original predictor. For those predictors, histograms and boxplots will be provided on both the original and the transformed scale.\n\n### V1: Multivariate descriptions: associations of predictors with structural variables\n\nA scatterplot of each predictor with age, with different panels for males and females will be constructed. Associated Spearman correlation coefficients will be computed.\n\n### V2: Multivariate descriptions: correlation analyses\n\nA matrix of Spearman correlation coefficients between all pairs of predictors will be computed and described numerically as well as by means of a heatmap.\n\n### VE1: Multivariate descriptions: comparing nonparametric and parametric predictor correlation\n\nA matrix of Pearson correlation coefficients will be computed. Predictor pairs for which Spearman and Pearson correlation coefficients differ by more than 0.1 correlation units will be depicted in scatterplots.\n\n### VE2: Variable clustering\n\nA variable clustering analysis will be performed to evaluate which predictors are closely associated. A dendrogram groups predictors by their correlation. Scatterplots of pairs of predictors with Spearman correlation coefficients greater than 0.8 will be created.\n\n### VE3: Redundancy\n\nVariance inflation factors will be computed between the candidate predictors. This will be done for the three possible candidate models, and using all complete cases in the respective candidate predictor sets. Redundancy will further be explored by computing parametric additive models for each predictor in the three candidate models.\n\n\n\n::: {.cell}\n\n:::",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}